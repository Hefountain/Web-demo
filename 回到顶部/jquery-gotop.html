
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>回到顶部</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
	p{
		line-height: 3;
	}
	#go-top{
		position: fixed;
		bottom: 10px;
		right: 10px;
		border: 1px solid red;
		padding: 10px;
		cursor: pointer;
		display: none;
	}
</style>
</head>
<body>
	<p>内容1</p>
	<p>内容1</p>
	<p>内容1</p>
	<p>内容3</p><p>内容1</p>
	<p>内容1</p><p>内容1</p>
	<p>内容1</p>
	<p>内容1</p>
	<p>内容4</p><p>内容1</p>
	<p>内容1</p><p>内容1</p>
	<p>内容1</p><p>内容1</p>
	<p>内容6</p><p>内容1</p>
	<p>内容7</p>
     <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script>

/*
  //方法1，最原始的 jquery 使用方法

	var $goTop = $('<div id="go-top">回到顶部</div>');
	$('body').append($goTop);

	$(window).on('scroll', function(e){
		var offsetTop = $('body').scrollTop();
		console.log(offsetTop);
		if(offsetTop>100){

			$goTop.show();
		}else{
			$goTop.hide();
		}
	})
	$goTop.on('click', function(){
		$(window).scrollTop(0);
	});
*/

  // 方法2， 经过简单的包装一下
	var GoTop = {
		init: function(){

			if($('#go-top').length > 0){
				return;
			}
			var $goTop = $('<div id="go-top">回到顶部</div>');
			$('body').append($goTop);

			this.$goTop = $goTop;
			this.bind();

		},
		bind: function(){
			var self = this;
			$(window).on('scroll', function(e){
				var offsetTop = $('body').scrollTop();
				if(offsetTop>100){

					self.$goTop.show();
				}else{
					self.$goTop.hide();
				}
			})
			this.$goTop.on('click', function(){
				$(window).scrollTop(0);
			});
		}
	}

/*
  //方法3， 用了立即执行函数表达式，来实现封装
	var GoTop = (function(){
		var $goTop = $('<div id="go-top">回到顶部</div>');
		$('body').append($goTop);

		function init (){
			$(window).on('scroll', function(e){
				var offsetTop = $('body').scrollTop();
				console.log(offsetTop);
				if(offsetTop>100){

					$goTop.show();
				}else{
					$goTop.hide();
				}
			})
			$goTop.on('click', function(){
				$(window).scrollTop(0);
			});

		}


		return {
			init: init
		}
	})();

*/
	GoTop.init();

  //这里做个测试，看执行两次会不会生成两个 gotop
	GoTop.init();


	</script>

</body>
</html>
